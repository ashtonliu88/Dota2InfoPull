<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Top N Teams Dota 2 Viewer</title>
    <style>
        body {
            font-family: 'Candara';
            margin: 20px;
        }
        .team {
            border: 1px solid #ccc;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 5px;
        }
        .team h2 {
            margin-top: 0;
        }
        .player {
            margin-left: 20px;
        }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js"></script>
</head>

<body>
    <h1>Top N Pro Teams in DOTA 2</h1>
    <div id="teams-container"></div>

    <script>
        // Fetching YAML file
        fetch('output.yaml')
            .then(response => response.text())
            .then(yamlText => {
                const data = jsyaml.load(yamlText);
                renderTeams(data);
            })
            .catch(error => console.error('Error fetching the YAML file:', error));

        //This function renders teams to HTML
        function renderTeams(teams) {
            const container = document.getElementById('teams-container');
            teams.forEach((team, index) => {
                const teamDiv = document.createElement('div');
                teamDiv.classList.add('team');
                teamDiv.innerHTML = `
                    <h2>${index + 1}. ${team.teamName}</h2>
                    <p><strong>ID:</strong> ${team.teamID}</p>
                    <p><strong>Wins:</strong> ${team.teamWins}</p>
                    <p><strong>Losses:</strong> ${team.teamLosses}</p>
                    <p><strong>Rating:</strong> ${team.teamRating}</p>
                    <p><strong>Experience:</strong> ${team.teamExperience} hours</p>
                    <h3>Players</h3>
                `;
                team.players.forEach(player => {
                    const playerDiv = document.createElement('div');
                    playerDiv.classList.add('player');
                    playerDiv.innerHTML = `
                        <p><strong>Name:</strong> ${player.personaname}</p>
                        <p><strong>Experience:</strong> ${player.playerXP} hours</p>
                        <p><strong>Country:</strong> ${player.countryCode}</p>
                    `;
                    teamDiv.appendChild(playerDiv);
                });
                container.appendChild(teamDiv);
            });
        }
    </script>
</body>
</html>
